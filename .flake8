[flake8]
# Flake8 configuration for parallel-coding
# See: https://flake8.pycqa.org/en/latest/user/configuration.html

# Exclude directories
exclude =
    .git,
    __pycache__,
    venv,
    env,
    .venv,
    node_modules,
    workspace,
    archive,
    ecosystem-dashboard,
    .eggs,
    *.egg,
    build,
    dist

# Maximum line length
max-line-length = 100

# Maximum complexity (McCabe)
max-complexity = 15

# Ignore specific error codes
# W503: line break before binary operator (conflicts with black)
# W504: line break after binary operator (conflicts with black)
ignore =
    W503,
    W504

# Per-file ignores
per-file-ignores =
    # Tests can have imports after sys.path manipulation
    tests/*:E402
    test_*.py:E402
    # __init__.py files can have unused imports (re-exports)
    __init__.py:F401
    # Complexity is acceptable in main execution files
    scripts/execute_task_files.py:C901
    autonomous_executor.py:C901
    simple_autonomous_executor.py:C901
    web_ui/app.py:C901
    # Phase 1: New config system (E402: module import order, E501: long lines, F541: f-string format)
    orchestrator/config/defaults.py:E402
    orchestrator/config/main.py:E402,F401,E501
    orchestrator/config/validator.py:F541
    orchestrator/utils/binary_discovery.py:E501
    # Phase 2: Refactored worker modules (E501: long command strings)
    orchestrator/core/worker/codex_executor.py:E501
    orchestrator/core/worker/worker_manager.py:E501

# Select specific error codes to check
select = E,F,W,C

# Show source code for errors
show-source = True

# Statistics at the end
statistics = True

# Count errors
count = True
